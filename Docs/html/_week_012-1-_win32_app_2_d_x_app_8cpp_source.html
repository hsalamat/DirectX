<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GAME3111: Week2/Week 2-1-Win32App/DXApp.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GAME3111
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_week_012-1-_win32_app_2_d_x_app_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">DXApp.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="_week_012-1-_win32_app_2_d_x_app_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#include &quot;<a class="code" href="_week2-5-_direct_x11sample_2_d_x_app_8h.html">DXApp.h</a>&quot;</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span> </div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="keyword">namespace </span>{</div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span>    <span class="comment">//used to forward messages to user defined proc function</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span>    <a class="code hl_class" href="class_d_x_app.html">DXApp</a>* g_App = <span class="keyword">nullptr</span>;</div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span>}</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span> </div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno"><a class="line" href="_week_012-1-_win32_app_2_d_x_app_8cpp.html#a6430a76bf18e17d995aa340aaf8c30a9">    9</a></span>LRESULT CALLBACK <a class="code hl_function" href="_week_012-1-_win32_app_2_d_x_app_8cpp.html#a6430a76bf18e17d995aa340aaf8c30a9">MainWndProc</a>(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>{</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>    <span class="comment">//step4:Window procedures are functions we implement which contain code that is to be executed in response to specific messages.</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>    <span class="keywordflow">if</span> (g_App) g_App-&gt;MsgProc(hwnd, msg, wParam, lParam);</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>        <span class="comment">//The messages a window does not handle should be forwarded to the default window</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>        <span class="comment">//procedure, which then handles the message.The Win32 API supplies the default window</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>        <span class="comment">//procedure, which is called DefWindowProc.</span></div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>        <span class="keywordflow">return</span> DefWindowProc(hwnd, msg, wParam, lParam);</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>}</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno"><a class="line" href="class_d_x_app.html#ac7dcbcd30f5c5b2da87c840b9dcbc6e6">   20</a></span><a class="code hl_function" href="class_d_x_app.html#ac7dcbcd30f5c5b2da87c840b9dcbc6e6">DXApp::DXApp</a>(HINSTANCE hInstance)</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>{</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>    <a class="code hl_variable" href="class_d_x_app.html#a8ca61ab8cd8cc4a07c06247d95d86a5a">m_hAppInstance</a> = hInstance;</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    <a class="code hl_variable" href="class_d_x_app.html#a2bf6175a3e341e16937b766dce672bcd">m_hAppWnd</a> = NULL; <span class="comment">//we don&#39;t have a window yet</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    <a class="code hl_variable" href="class_d_x_app.html#ab947d4f4ef100fb247d500c0e5ebbc18">m_ClientWidth</a> = 800;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    <a class="code hl_variable" href="class_d_x_app.html#a70702557e9bc9894131a1bedd1ee682f">m_ClientHeight</a> = 800;</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>    <a class="code hl_variable" href="class_d_x_app.html#a7b17a8c07b5f5700fe7e3fa24a448612">m_AppTitle</a> = <span class="stringliteral">&quot;DirectX12 Application&quot;</span>;</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    <a class="code hl_variable" href="class_d_x_app.html#ad81b0eb2e908ca38298be9152adceafc">m_WndStyle</a> = WS_OVERLAPPEDWINDOW; <span class="comment">//basic maximize, minimize, etc.. </span></div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>    g_App = <span class="keyword">this</span>;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>}</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span> </div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno"><a class="line" href="class_d_x_app.html#a6414f22a20a4b5a0e26920fc55a279db">   31</a></span><a class="code hl_function" href="class_d_x_app.html#a6414f22a20a4b5a0e26920fc55a279db">DXApp::~DXApp</a>()</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>{</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>}</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span> </div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno"><a class="line" href="class_d_x_app.html#a9826ef8d4adc442a7a5252d6c9790bc1">   35</a></span><span class="keywordtype">int</span> <a class="code hl_function" href="class_d_x_app.html#a9826ef8d4adc442a7a5252d6c9790bc1">DXApp::Run</a>()</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>{</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>    <span class="comment">//step3: A Windows application follows an event-driven programming model.</span></div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    <span class="comment">//An event can be generated in a number of ways:key presses, mouse clicks,</span></div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>    <span class="comment">//and when a window is created, resized, moved, closed, minimized, maximized, or becomes visible.</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>    <span class="comment">//When an event occurs, Windows sends a message to the application the event</span></div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>    <span class="comment">//occurred for, and adds the message to the application’s message queue</span></div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>    <span class="comment">//The application constantly checks the message queue for messages in a message loop</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span> </div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    <span class="comment">//Main Message Loop</span></div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>    MSG msg = { 0 };</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>    <span class="keywordflow">while</span> (WM_QUIT != msg.message)</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        <span class="comment">//when the application receives a message, it dispatches the message to the window procedure of the particular window the message is for</span></div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>        <span class="keywordflow">if</span> (PeekMessage(&amp;msg, NULL, NULL, NULL, PM_REMOVE)) <span class="comment">//peek and remove from the stack</span></div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>            TranslateMessage(&amp;msg);  <span class="comment">//Translates virtual-key messages (alt + ctrl + escape..) into character messages. WM_KEYDOWN and WM_KEYUP combinations produce a WM_CHAR</span></div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>            DispatchMessage(&amp;msg);   <span class="comment">//Dispatches a message to a window procedure (MainWndProc).</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        }</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        {</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>            <span class="comment">//In off-time we update and render</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>            <a class="code hl_function" href="class_d_x_app.html#a00be75553e31cedea9c444b9bab788a3">Update</a>(0.0);</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>            <a class="code hl_function" href="class_d_x_app.html#a8bab68e83895597156bdf097e18abefd">Render</a>(0.0);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        }</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>    }</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span> </div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(msg.wParam);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>}</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span> </div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno"><a class="line" href="class_d_x_app.html#a80f7022aebbe880d8a8b35835c5a851f">   65</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_d_x_app.html#a80f7022aebbe880d8a8b35835c5a851f">DXApp::Init</a>()</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>{</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="class_d_x_app.html#a41ce52cbd69650798c342aed6b1d21fd">InitWindow</a>())</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>}</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="class_d_x_app.html#a41ce52cbd69650798c342aed6b1d21fd">   72</a></span><span class="keywordtype">bool</span> <a class="code hl_function" href="class_d_x_app.html#a41ce52cbd69650798c342aed6b1d21fd">DXApp::InitWindow</a>()</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>{</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>    <span class="comment">//WNDCLASSEX - Bear in mind that the only difference between CreateWindow and CreateWindowEx is the addition of extended styles to the latter. You can use either type of window class structure with them.</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>    WNDCLASSEX wcex;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    ZeroMemory(&amp;wcex, <span class="keyword">sizeof</span>(WNDCLASSEX)); <span class="comment">//Fills a block of memory with zeros.</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>    wcex.style = CS_HREDRAW | CS_VREDRAW;</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>    wcex.lpfnWndProc = <a class="code hl_function" href="_week_012-1-_win32_app_2_d_x_app_8cpp.html#a6430a76bf18e17d995aa340aaf8c30a9">MainWndProc</a>;</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    wcex.cbClsExtra = 0;</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>    wcex.cbWndExtra = 0;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>    wcex.cbSize = <span class="keyword">sizeof</span>(WNDCLASSEX);</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>    wcex.hInstance = <a class="code hl_variable" href="class_d_x_app.html#a8ca61ab8cd8cc4a07c06247d95d86a5a">m_hAppInstance</a>;</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>    wcex.hIcon = LoadIcon(0, IDI_APPLICATION);</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>    wcex.hCursor = LoadCursor(0, IDC_ARROW);</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    wcex.hbrBackground = (HBRUSH)GetStockObject(NULL_BRUSH);</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>    wcex.lpszMenuName = 0;</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>    wcex.lpszClassName = L<span class="stringliteral">&quot;DXAPPWNDCLASS&quot;</span>;</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span> </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>    <span class="comment">//register with Windows OS</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>    <span class="keywordflow">if</span> (!RegisterClassEx(&amp;wcex))</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>    {</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        OutputDebugString(L<span class="stringliteral">&quot;Failed to create Window Class\n&quot;</span>);</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    }</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>    RECT r = { 0,0, <a class="code hl_variable" href="class_d_x_app.html#ab947d4f4ef100fb247d500c0e5ebbc18">m_ClientWidth</a>, <a class="code hl_variable" href="class_d_x_app.html#a70702557e9bc9894131a1bedd1ee682f">m_ClientHeight</a> };</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    AdjustWindowRect(&amp;r, <a class="code hl_variable" href="class_d_x_app.html#ad81b0eb2e908ca38298be9152adceafc">m_WndStyle</a>, FALSE);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>    UINT width = r.right - r.left;</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>    UINT height = r.bottom - r.top;</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>    UINT x = GetSystemMetrics(SM_CXSCREEN) / 2 - width / 2;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>    UINT y = GetSystemMetrics(SM_CXSCREEN) / 2 - height / 2;</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>    <span class="comment">//step1 we use WIN32 API to create window - when using 16-bit wide-characters (unicode), we must prefix a string literal with a capital L!</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>    <a class="code hl_variable" href="class_d_x_app.html#a2bf6175a3e341e16937b766dce672bcd">m_hAppWnd</a> = CreateWindow(L<span class="stringliteral">&quot;DXAPPWNDCLASS&quot;</span>, L<span class="stringliteral">&quot;test&quot;</span>, <a class="code hl_variable" href="class_d_x_app.html#ad81b0eb2e908ca38298be9152adceafc">m_WndStyle</a>, x, y, width, height, NULL, NULL, <a class="code hl_variable" href="class_d_x_app.html#a8ca61ab8cd8cc4a07c06247d95d86a5a">m_hAppInstance</a>, NULL);</div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span> </div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="class_d_x_app.html#a2bf6175a3e341e16937b766dce672bcd">m_hAppWnd</a>) {</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        OutputDebugString(L<span class="stringliteral">&quot;Failed to create Window \n&quot;</span>);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>    }</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span> </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    <span class="comment">//step2 to notify Windows to show a particular window. Note that Windows applications do not have direct access to hardware.</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>    <span class="comment">//For example, to display a window you must call the Win32 API function ShowWindow; you cannot write to video memory directly.</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span>    ShowWindow(<a class="code hl_variable" href="class_d_x_app.html#a2bf6175a3e341e16937b766dce672bcd">m_hAppWnd</a>, SW_SHOW);</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span> </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>}</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span> </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span> </div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="comment">//step5: Once upon a time, Windows was 16 - bit.Each message could carry with it two pieces of data, called WPARAMand LPARAM.The first one was a 16 - bit value(“word”), so it was called W.The second one was a 32 - bit value(“long”), so it was called L.</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="comment">//You used the W parameter to pass things like handles and integers.You used the L parameter to pass pointers.</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="comment">//When Windows was converted to 32 - bit, the WPARAM parameter grew to a 32 - bit value as well.So even though the “W” stands for “word”, it isn’t a word any more. (And in 64 - bit Windows, both parameters are 64 - bit values!)</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span> </div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="comment">//typedef LONG_PTR LRESULT</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno"><a class="line" href="class_d_x_app.html#a6c039fb823620467b3f8e78fdb1ebc7e">  123</a></span>LRESULT <a class="code hl_function" href="class_d_x_app.html#a6c039fb823620467b3f8e78fdb1ebc7e">DXApp::MsgProc</a>(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>{</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    <span class="comment">//step6: For instance, we may want to destroy a window when the Escape key is pressed.</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>    <span class="keywordflow">switch</span> (msg)</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>    {</div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>    <span class="keywordflow">case</span> WM_KEYDOWN:</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        <span class="keywordflow">if</span> (wParam == VK_ESCAPE)</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            DestroyWindow(<a class="code hl_variable" href="class_d_x_app.html#a2bf6175a3e341e16937b766dce672bcd">m_hAppWnd</a>);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>    <span class="keywordflow">case</span> WM_DESTROY:</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        PostQuitMessage(0);  <span class="comment">//Indicates to the system that a thread has made a request to terminate</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span> </div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <span class="keywordflow">return</span> DefWindowProc(hwnd, msg, wParam, lParam); <span class="comment">//wParam, lParam..mouse position..ket down...</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>    }</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span> </div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>}</div>
<div class="ttc" id="a_week2-5-_direct_x11sample_2_d_x_app_8h_html"><div class="ttname"><a href="_week2-5-_direct_x11sample_2_d_x_app_8h.html">DXApp.h</a></div></div>
<div class="ttc" id="a_week_012-1-_win32_app_2_d_x_app_8cpp_html_a6430a76bf18e17d995aa340aaf8c30a9"><div class="ttname"><a href="_week_012-1-_win32_app_2_d_x_app_8cpp.html#a6430a76bf18e17d995aa340aaf8c30a9">MainWndProc</a></div><div class="ttdeci">LRESULT CALLBACK MainWndProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00009">DXApp.cpp:9</a></div></div>
<div class="ttc" id="aclass_d_x_app_html"><div class="ttname"><a href="class_d_x_app.html">DXApp</a></div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00005">DXApp.h:6</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a00be75553e31cedea9c444b9bab788a3"><div class="ttname"><a href="class_d_x_app.html#a00be75553e31cedea9c444b9bab788a3">DXApp::Update</a></div><div class="ttdeci">virtual void Update(float dt)=0</div></div>
<div class="ttc" id="aclass_d_x_app_html_a2bf6175a3e341e16937b766dce672bcd"><div class="ttname"><a href="class_d_x_app.html#a2bf6175a3e341e16937b766dce672bcd">DXApp::m_hAppWnd</a></div><div class="ttdeci">HWND m_hAppWnd</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00023">DXApp.h:23</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a41ce52cbd69650798c342aed6b1d21fd"><div class="ttname"><a href="class_d_x_app.html#a41ce52cbd69650798c342aed6b1d21fd">DXApp::InitWindow</a></div><div class="ttdeci">bool InitWindow()</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00072">DXApp.cpp:72</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a6414f22a20a4b5a0e26920fc55a279db"><div class="ttname"><a href="class_d_x_app.html#a6414f22a20a4b5a0e26920fc55a279db">DXApp::~DXApp</a></div><div class="ttdeci">virtual ~DXApp()</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00031">DXApp.cpp:31</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a6c039fb823620467b3f8e78fdb1ebc7e"><div class="ttname"><a href="class_d_x_app.html#a6c039fb823620467b3f8e78fdb1ebc7e">DXApp::MsgProc</a></div><div class="ttdeci">virtual LRESULT MsgProc(HWND hwnd, UINT msg, WPARAM wParam, LPARAM lParam)</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00123">DXApp.cpp:123</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a70702557e9bc9894131a1bedd1ee682f"><div class="ttname"><a href="class_d_x_app.html#a70702557e9bc9894131a1bedd1ee682f">DXApp::m_ClientHeight</a></div><div class="ttdeci">UINT m_ClientHeight</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00026">DXApp.h:26</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a7b17a8c07b5f5700fe7e3fa24a448612"><div class="ttname"><a href="class_d_x_app.html#a7b17a8c07b5f5700fe7e3fa24a448612">DXApp::m_AppTitle</a></div><div class="ttdeci">std::string m_AppTitle</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00027">DXApp.h:27</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a80f7022aebbe880d8a8b35835c5a851f"><div class="ttname"><a href="class_d_x_app.html#a80f7022aebbe880d8a8b35835c5a851f">DXApp::Init</a></div><div class="ttdeci">virtual bool Init()</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00065">DXApp.cpp:65</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a8bab68e83895597156bdf097e18abefd"><div class="ttname"><a href="class_d_x_app.html#a8bab68e83895597156bdf097e18abefd">DXApp::Render</a></div><div class="ttdeci">virtual void Render(float dt)=0</div></div>
<div class="ttc" id="aclass_d_x_app_html_a8ca61ab8cd8cc4a07c06247d95d86a5a"><div class="ttname"><a href="class_d_x_app.html#a8ca61ab8cd8cc4a07c06247d95d86a5a">DXApp::m_hAppInstance</a></div><div class="ttdeci">HINSTANCE m_hAppInstance</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00024">DXApp.h:24</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_a9826ef8d4adc442a7a5252d6c9790bc1"><div class="ttname"><a href="class_d_x_app.html#a9826ef8d4adc442a7a5252d6c9790bc1">DXApp::Run</a></div><div class="ttdeci">int Run()</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00035">DXApp.cpp:35</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_ab947d4f4ef100fb247d500c0e5ebbc18"><div class="ttname"><a href="class_d_x_app.html#ab947d4f4ef100fb247d500c0e5ebbc18">DXApp::m_ClientWidth</a></div><div class="ttdeci">UINT m_ClientWidth</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00025">DXApp.h:25</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_ac7dcbcd30f5c5b2da87c840b9dcbc6e6"><div class="ttname"><a href="class_d_x_app.html#ac7dcbcd30f5c5b2da87c840b9dcbc6e6">DXApp::DXApp</a></div><div class="ttdeci">DXApp(HINSTANCE hInstance)</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8cpp_source.html#l00020">DXApp.cpp:20</a></div></div>
<div class="ttc" id="aclass_d_x_app_html_ad81b0eb2e908ca38298be9152adceafc"><div class="ttname"><a href="class_d_x_app.html#ad81b0eb2e908ca38298be9152adceafc">DXApp::m_WndStyle</a></div><div class="ttdeci">DWORD m_WndStyle</div><div class="ttdef"><b>Definition:</b> <a href="_week_012-1-_win32_app_2_d_x_app_8h_source.html#l00028">DXApp.h:28</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_55802f389f10187e6332e22903ed7c9f.html">Week2</a></li><li class="navelem"><a class="el" href="dir_8dc936a6a8b883a8d213c66a827568b5.html">Week 2-1-Win32App</a></li><li class="navelem"><a class="el" href="_week_012-1-_win32_app_2_d_x_app_8cpp.html">DXApp.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
